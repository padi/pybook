<!DOCTYPE html>
<html>
<head>
    <title>Books</title>
</head>
<body>

<h2>Books</h2>

<button id="add-book">Add Book</button>
<ul id="books-list"></ul>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
<script src="http://ajax.cdnjs.com/ajax/libs/underscore.js/1.1.4/underscore-min.js"></script>
<script src="http://ajax.cdnjs.com/ajax/libs/backbone.js/0.3.3/backbone-min.js"></script>
<script>
(function ($) {
    window.Book = Backbone.Model.extend({
       title: null 
    });

    window.Books = Backbone.Collection.extend({
        initialize: function (models, options) {
            this.bind("add", options.view.addBookLi);
        }
    });

    window.AppView = Backbone.View.extend({
        el: $("body"),
        initialize: function () {
            this.books = new Books( null, { view: this });
        },
        events: {
            "click #add-book":  "showPrompt",
        },
        showPrompt: function () {
            var book_title = prompt("What's the title?");
            var book_model = new Book({ title: book_title });
            this.books.add( book_model );
        },
        addBookLi: function (model) {
            // parameter 'model' here is a reference to the model that was added
            $("ul#books-list").append("<li>" + model.get('title') + "</li>");
        }
    });
    
    var appview = new AppView;
})(jQuery);
</script>